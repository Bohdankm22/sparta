This directory is deleted in release_cleanup.xml

Making a release
================
export RELEASE=â€¦
cd $RELEASE
hg clone https://dada.cs.washington.edu/hgweb/sparta-code sparta-toolset-v0.9.8
cd sparta-toolset-v0.9.8

//Update the version number of SPARTA and CF:
vi build.properties docs/manual.tex website/release/index.html website/index.html
vi changelog-sparta.txt

hg commit -m "Updated to v0.9.8"
hg tag sparta-0.9.8
hg push

ant jar 
cd docs; make ;cd ..

cp sparta.jar ../sparta-0.9.8.jar
cp docs/manual.html ../
cp docs/manual.pdf ../
cp docs/manual*.png ../
cp website/release/index.html ../
cp website/index.html ../main.html

ant -buildfile release-cleanup.xml clean -DspartaDir=.

cd ../
tar -czf sparta-toolset-0.9.8.tgz sparta-toolset-v0.9.8/

//Prepare sparta-sample-apps
cd $RELEASE
hg clone https://dada.cs.washington.edu/hgweb/sparta-sample-apps sparta-sample-apps-v0.9.8

cd sparta-sample-apps-v0.9.8
ant -buildfile release-cleanup.xml clean -DsubjectsDir=.
cd ../
tar -czf sparta-sample-apps-0.9.8.tgz sparta-sample-apps-v0.9.8
rm -r sparta-sample-apps-v0.9.8/
rm -r sparta-toolset-v0.9.8/
tar -czf release-v0.9.8.tgz *

#Copy to server
ssh buffalo
mkdir /cse/www2/types/sparta/release/versions/v0.9.8
#local machine
scp release* buffalo:/cse/www2/types/sparta/release/versions/v0.9.8
#buffalo
cd /cse/www2/types/sparta/release/versions/v0.9.8
tar -xzf release-v0.9.8.tgz
mv index.html ../../
mv main.html ../../../index.html

rm -r current
mkdir current
cd current/
ln -s ../release/versions/v0.9.8/sparta-toolset-0.9.8.tgz sparta-toolset.tgz
ln -s ../release/versions/v0.9.8/sparta-sample-apps-0.9.8.tgz sparta-sample-apps.tgz
ln -s ../release/versions/v0.9.8/manual.pdf sparta-manual.pdf
ln -s ../release/versions/v0.9.8/manual.html sparta-manual.html
ln -s ../release/versions/v0.9.8/manual001.png .
ln -s ../release/versions/v0.9.8/manual002.png .
ln -s ../release/versions/v0.9.8/manual003.png .
ln -s ../release/versions/v0.9.8/manual004.png .
ln -s ../release/versions/v0.9.8/sparta-vm-v0.9.8.tar.bz2 sparta-vm.tar.bz2


chmod 775 .
chmod 664 *
 # cp website/release/index.html /cse/www2/types/sparta/release/
 * Check to make sure everything looks reasonable, the links, work, etc:
   http://types.cs.washington.edu/sparta/
   http://types.cs.washington.edu/sparta/release/
 * Send mail to sparta-users@cs.washington.edu announcing the release.

We have released a new version of the SPARTA Toolset.

You can find documentation and download links for these projects at:
http://types.cs.washington.edu/sparta/release

Notable changes include:



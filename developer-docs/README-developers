This directory is deleting in release_cleanup.xml

Developer information
=====================

The public SPARTA project webpage is:

http://www.cs.washington.edu/sparta/

Releases are available at (non-publicized URL):

http://types.cs.washington.edu/sparta/release/

A URL that may be live in the future is:

http://types.cs.washington.edu/sparta/

The Jenkins integration server for all projects is at:

http://buffalo.cs.washington.edu:8080/view/SPARTA/


Cloning the repository
======================

To clone the repository, run this command:
  hg clone https://dada.cs.washington.edu/hgweb/sparta-code

Then, read the README.


Making a release
================
export RELEASE=â€¦
cd $RELEASE
hg clone https://dada.cs.washington.edu/hgweb/sparta-code
cd sparta-code

//Update the version number of SPARTA and CF:
vi build.properties 
vi docs/manuaul.tex
vi website/release/index.html

hg commit -m "Updated to vX.X.X"
hg tag sparta-X.X.X
hg push

//copy the GSON libs in sparta-code/lib
ant jar 
cd docs; make ;cd ..

cp sparta.jar ../sparta-X.X.X.jar
cp docs/manual.html ../
cp docs/manual.pdf ../
cp website/release/index.html ../
cd $RELEASE

ant -buildfile sparta-code/release-cleanup.xml clean -DspartaDir=sparta-code
rm sparta-code/release-cleanup.xml
tar -czf sparta-code-X.X.X.tgz sparta-code/

//Prepare sparta-subjects
cd $RELEASE
hg clone https://dada.cs.washington.edu/hgweb/sparta-subjects

ant -buildfile sparta-subjects/release-cleanup.xml clean -DsubjectsDir=sparta-subjects
rm sparta-subjects/release-cleanup.xml
tar -czf sparta-subjects-X.X.X.tgz sparta-subjects/


To make a release:
 * update build.properties with the new version number
   and the version number of the Checker Framework
   and in the manual
 * Commit all of this and tag the release
hg tag sparta-X.X.X
 * build sparta.jar
 * build the manual 
Move sparta.jar, manual.html, manual.pdf out of the dir

Clean up the dir:


 * copy to /cse/www2/types/sparta/release/vX.X.X (renaming to add version numbers):
    docs/manual.html
    docs/manual.pdf
    sparta.jar
    a .tar.gz file of the sparta-code repository
    a .tar.gz file of the sparta-subjects repository
chmod 775 .
chmod 664 *
 * edit file "website/release/index.html" to link to the above files
 * cp website/release/index.html /cse/www2/types/sparta/release/
 * Check to make sure everything looks reasonable, the links, work, etc:
   http://types.cs.washington.edu/sparta/release/
 * Send mail to sparta-users@cs.washington.edu announcing the release.

